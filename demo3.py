import matplotlib as plt
from util.camera_pose_visualizer import CameraPoseVisualizer
import numpy as np


def plot_scenewise(rt):
    visualizer = CameraPoseVisualizer([-10, 10], [-10, 10], [0, 20])
    list_scene = ['cam1', 'cam2', 'cam3', 'cam4']

    for idx_scene, scene in enumerate(list_scene):
        # print(rt[idx_scene])
        visualizer.extrinsic2pyramid(rt[idx_scene], plt.cm.rainbow(idx_scene / len(list_scene)), 1)

    visualizer.customize_legend(list_scene)
    visualizer.show()


if __name__ == '__main__':
    test_2 = np.array([
        [[-0.8349486788735941, 0.549713537123099, -0.025994821616059524, 0.12467171968993473],
         [0.12699843886057563, 0.1465047407654298, -0.9810238312397055, 0.6661458895041935],
         [-0.5354737156707285, -0.8224058536008029, -0.19213670078597275, 5.750965462528282],
         [0.0, 0.0, 0.0, 1.0]],
        [[0.866380303959225, -0.4993639487972872, -0.004562406503312524, 0.26980753636697447],
         [-0.16024007913257607, -0.2693351970230628, -0.9496218556268249, 0.3675810675290694],
         [0.4729781030355496, 0.8234647523034175, -0.31336482853499176, 4.281255862363657],
         [0.0, 0.0, 0.0, 1.0]],
        [[-0.590563732166913, -0.8069809843986586, 0.004021077972182368, 0.5803808470501952],
         [-0.22850840184379836, 0.1624436878382205, -0.9598937225382359, 0.36996613551215485],
         [0.7739627823971122, -0.5677972693668846, -0.2803352856199691, 5.12913011886302],
         [0.0, 0.0, 0.0, 1.0]],
        [[0.5986559136692821, 0.8005159488868241, -0.02802342960139899, -0.8498483226388514],
         [0.2418035015171232, -0.21396154973202391, -0.9464415047377883, 0.13127817331731473],
         [-0.7636374556573661, 0.5598166403511939, -0.32165690650605683, 5.040527169101486],
         [0.0, 0.0, 0.0, 1.0]],
    ])

    plot_scenewise(test_2)
